<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <meta name="generator" content="Hugo 0.49.2" />
  <meta name="author" content="Julian Lore">

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Merriweather:400,700%7cOpen&#43;Sans:400,400italic,700%7cRoboto&#43;Mono%25!%28EXTRA%20*hugolib.PageOutput=Page%28/blog/Installing_Arch_Linux_VM.md%29%29">
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-127408997-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    <script async src="//cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js"></script>
  

  
  <link rel="alternate" href="https://julianlore.com/index.xml" type="application/rss+xml" title="Julian Lore">
  <link rel="feed" href="https://julianlore.com/index.xml" type="application/rss+xml" title="Julian Lore">
  

  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/img/favicon/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://julianlore.com/blog/installing_arch_linux_vm/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Julian Lore">
  <meta property="og:url" content="https://julianlore.com/blog/installing_arch_linux_vm/">
  <meta property="og:title" content="Installing an Arch Linux VM | Julian Lore">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-10-07T22:24:25-04:00">
  
  <meta property="article:modified_time" content="2018-10-07T22:24:25-04:00">
  

  <title>Installing an Arch Linux VM | Julian Lore</title>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-127408997-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


</head>
<body>

<style type="text/css">

.masthead-hero {
  background-image: url("https://julianlore.com/img/hero.jpg");
}
</style>

<div class="masthead-hero"></div>


<div id="main" role="main">
  <div class="sidebar sticky" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <div class="author-avatar">
    <a href="/">
      <img src="/img/heckert.png" alt="Julian Lore" itemprop="image">
    </a>
  </div>
  <div class="author-content">
    <h3 class="author-name" itemprop="name">Julian Lore</h3>
    <p class="author-bio" itemprop="description">Undergraduate student at McGill University.</p>
  </div>
  <div class="author-urls-wrapper">
    <ul class="author-urls social-icons" aria-hidden="true">
      <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
        <span itemprop="name">Montreal, Canada</span>
      </li>
      
      <li>
        <a itemprop="sameAs" href="//github.com/julianlore" target="_blank" rel="noopener">
          <i class="fa fa-github"></i>
          Github
        </a>
      </li>
      
    </ul>  
  </div>
</div>

  <article class="page">
		<div class="page_container">
			<section class="page_content">
				<div class="navbar-hero">
	<nav>
		<a href="/">Home</a>&nbsp&nbsp•&nbsp&nbsp
		<a href="/projects">Projects</a>&nbsp&nbsp•&nbsp&nbsp
		<a href="/blog">Blog</a>&nbsp&nbsp•&nbsp&nbsp
		<a href="/about">About</a>
	</nav>
</div>
				<article class="post" itemscope itemtype="http://schema.org/Article">
  <div class="post-container">
    <h1 itemprop="name"><a href="https://julianlore.com/blog/installing_arch_linux_vm/">Installing an Arch Linux VM</a></h1>

    
      

<div class="post-metadata">

  <span class="post-date">
    
    <time datetime="2018-10-07 22:24:25 -0400 EDT" itemprop="datePublished dateModified">
      Oct 7, 2018
    </time>
  </span>

  

</div>

    

    <div class="post-style" itemprop="articleBody">
      Setup guide for an Arch Linux VM along with scripts.
      

<p>I use Arch Linux as my main working operating system on my laptop, as
I love how it is very bare-bones and can be configured exactly how you
like it, making it your very own experience, but at the same time not
requiring as much maintenance such as Gentoo or Linux From Scratch,
although I have yet to try others. I do respect the many other Linux
distributions, as I have tried many and like them (and see their
usability), just not as much as something that I can make my own.</p>

<p>Regardless, I thought it&rsquo;d be a good idea to spin up an Arch VM to
experiment with new setups (and keeping my current one intact), as
well as being able to use the VM for other things, such as isolating
network traffic to school or other places for things that require LAN
access. This will also prove to be a good opportunity to write some
basic scripts to automate the process and perhaps spin up similar VMs
on other machines.</p>

<h3 id="create-the-new-vm-and-mount-the-iso-onto-the-vm-boot-into-arch-linux">Create the new VM and Mount the ISO onto the VM, boot into Arch Linux</h3>

<h3 id="port-forwarding-on-virtualbox-to-facilitate-installation-through-ssh">Port Forwarding on Virtualbox to Facilitate Installation through SSH</h3>

<p>I personally use <a href="https://www.virtualbox.org/" target="_blank">Virtualbox</a> to work
with VMs. To be able to SSH into a newly created VM, you must port
forward. To do that in Virtualbox, if you are using NAT, you must
either enter</p>

<pre><code>VBoxManage modifyvm vmname --natpf1&quot;ssh,tcp,,3022,,22&quot;
</code></pre>

<p>or you can do it via the GUI like so:
<img src="/img/vb_portforward.png" alt="Port Forwarding" />
Note that we use port 3022 on the host in case the host already has an SSH daemon listening on port 22.</p>

<h3 id="setting-up-ssh-on-the-vm">Setting up SSH on the VM</h3>

<p>First you should change the password of the live boot using <code>passwd</code> (just in case), after which you start the ssh service via</p>

<pre><code>systemctl start sshd
</code></pre>

<p>Now you can SSH on the host.</p>

<pre><code>ssh -p 3022 root@127.0.0.1
</code></pre>

<p>If you have already SSHed into another machine through local host/a different session with a different SHA256 fingerprint, you&rsquo;ll have to remove the old key with</p>

<pre><code>ssh-keygen -R &quot;[127.0.0.1]:3022&quot;
</code></pre>

<h3 id="setting-up-arch-linux">Setting up Arch Linux</h3>

<p>I am currently trying to make some scripts to automate the
process/pre-configure various aspects. It can be found
<a href="https://github.com/julianlore/GNU-Linux-Automation/tree/master/Arch" target="_blank">here</a>. More
updates on progress later.</p>

    </div>

    
      

    

    
      
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Installing%20an%20Arch%20Linux%20VM&amp;url=https%3a%2f%2fjulianlore.com%2fblog%2finstalling_arch_linux_vm%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fjulianlore.com%2fblog%2finstalling_arch_linux_vm%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fjulianlore.com%2fblog%2finstalling_arch_linux_vm%2f&amp;title=Installing%20an%20Arch%20Linux%20VM"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Installing%20an%20Arch%20Linux%20VM&amp;body=https%3a%2f%2fjulianlore.com%2fblog%2finstalling_arch_linux_vm%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


    

    
      
<div class="disqus">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "julianlore" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>


    

  </div>
</article>
			</section>
		</div>
	</article>
</div> 

<div class="page_footer">
	<p>Julian Lore 2018. Powered by <a href="http://gohugo.io/">Hugo</a> and <a href="https://github.com/jhu247/minimal-academic">Minimal Academic</a>.</p>
</div>
    
    
    <script id="dsq-count-scr" src="//julianlore.disqus.com/count.js" async></script>
    


  </body>
</html>
